type MarginEvent @entity {
  id: ID!
  trader: String!
  amount: BigInt!
  eventType: String!
  timestamp: Int!
  txHash: String!
}

type Order @entity {
  id: ID!
  trader: String!
  isBuy: Boolean!
  price: BigInt!
  initialAmount: BigInt!
  amount: BigInt!
  status: String!
  timestamp: Int!
}

type Trade @entity {
  id: ID!
  buyer: String!
  seller: String!
  price: BigInt!
  amount: BigInt!
  timestamp: Int!
  txHash: String!
  buyOrderId: BigInt!
  sellOrderId: BigInt!
}

type Position @entity {
  id: ID!
  trader: String!
  size: BigInt!
  entryPrice: BigInt!
}

type Candle @entity {
  id: ID!
  resolution: String!
  timestamp: Int!
  openPrice: BigInt!
  highPrice: BigInt!
  lowPrice: BigInt!
  closePrice: BigInt!
  volume: BigInt!
}

type LatestCandle @entity {
  id: ID!
  closePrice: BigInt!
  timestamp: Int!
}

type FundingEvent @entity {
  id: ID!
  eventType: String!
  trader: String
  cumulativeRate: BigInt
  payment: BigInt
  timestamp: Int!
}

type Liquidation @entity {
  id: ID!
  trader: String!
  liquidator: String!
  amount: BigInt!
  fee: BigInt!
  price: BigInt!
  timestamp: Int!
  txHash: String!
}
